{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\goals-app\\\\src\\\\components\\\\Modal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport '../styles/Modal.css';\nimport ItemForm from './ItemForm';\nimport { saveTask, saveReward } from '../utils/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Modal = ({\n  onClose\n}) => {\n  _s();\n  const [type, setType] = useState('task');\n  const [errors, setErrors] = useState({});\n  const handleSave = data => {\n    const {\n      name,\n      price,\n      taskFrequency,\n      daysOfWeek\n    } = data;\n    const errors = {};\n    if (name.trim() === '') errors.name = 'Введите название!';\n    if (price < 1) errors.price = 'Цена должна быть больше 0!';\n    if (type === 'task' && taskFrequency === 'days' && daysOfWeek.length === 0) {\n      errors.days = 'Выберите хотя бы один день недели!';\n    }\n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n      return;\n    }\n    if (type === 'task') {\n      saveTask({\n        name,\n        price,\n        frequency: taskFrequency,\n        days: daysOfWeek\n      });\n    } else {\n      saveReward({\n        name,\n        price\n      });\n    }\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setType(e.target.value),\n        value: type,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"task\",\n          children: \"\\u0417\\u0430\\u0434\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"reward\",\n          children: \"\\u041D\\u0430\\u0433\\u0440\\u0430\\u0434\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ItemForm, {\n        type: type,\n        initialName: \"\" // Передаем начальные значения\n        ,\n        initialPrice: 0 // Передаем начальные значения\n        ,\n        initialDays: [] // Передаем начальные значения\n        ,\n        onSave: handleSave,\n        onCancel: onClose,\n        errors: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"button cancel-button\",\n        children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(Modal, \"Uy/i6AlI/Zii9p0OjedVZjaQdWQ=\");\n_c = Modal;\nexport default Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","ItemForm","saveTask","saveReward","jsxDEV","_jsxDEV","Modal","onClose","_s","type","setType","errors","setErrors","handleSave","data","name","price","taskFrequency","daysOfWeek","trim","length","days","Object","keys","frequency","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","value","initialName","initialPrice","initialDays","onSave","onCancel","onClick","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/goals-app/src/components/Modal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/Modal.css';\r\nimport ItemForm from './ItemForm';\r\nimport { saveTask, saveReward } from '../utils/storage';\r\n\r\nconst Modal = ({ onClose }) => {\r\n  const [type, setType] = useState('task');\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleSave = (data) => {\r\n    const { name, price, taskFrequency, daysOfWeek } = data;\r\n    const errors = {};\r\n\r\n    if (name.trim() === '') errors.name = 'Введите название!';\r\n    if (price < 1) errors.price = 'Цена должна быть больше 0!';\r\n    if (type === 'task' && taskFrequency === 'days' && daysOfWeek.length === 0) {\r\n      errors.days = 'Выберите хотя бы один день недели!';\r\n    }\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      setErrors(errors);\r\n      return;\r\n    }\r\n\r\n    if (type === 'task') {\r\n      saveTask({ name, price, frequency: taskFrequency, days: daysOfWeek });\r\n    } else {\r\n      saveReward({ name, price });\r\n    }\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal-content\">\r\n        <h2>Добавить</h2>\r\n        <select onChange={(e) => setType(e.target.value)} value={type}>\r\n          <option value=\"task\">Задание</option>\r\n          <option value=\"reward\">Награда</option>\r\n        </select>\r\n        <ItemForm\r\n          type={type}\r\n          initialName=\"\"  // Передаем начальные значения\r\n          initialPrice={0}  // Передаем начальные значения\r\n          initialDays={[]}  // Передаем начальные значения\r\n          onSave={handleSave}\r\n          onCancel={onClose}\r\n          errors={errors}\r\n        />\r\n        <button onClick={onClose} className=\"button cancel-button\">Отмена</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}